name: Deploy Frontend 

on:          # Trigger the workflow on push to the main branch ( declancheur de workflow)
    push:
        branches:
            [main,master,dev]
          
jobs:
    Test_Unitaire:
        runs-on: ubuntu-latest
        steps:
            - name: clone code 
              uses: actions/checkout@v5
            - name: install dependencies
              run: npm i
            - name: run commande jest
              run: npm run test 


    Build and push:
        runs-on: ubuntu-latest
        needs: Test_Unitaire
        steps:
            - name: clone code 
              uses: actions/checkout@v5
            - name: build docker image
              run: docker build -t  adeem07/app-session14 . --build-arg VITE_API_URL=api.33.lebondeveloppeur.net  
            - name : tag image   
            